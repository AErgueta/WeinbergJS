<div class="container mt-5" style="max-width: 500px;">
  <h3 class="text-center mb-4">Cambiar Contraseña</h3>

  {{!-- Mensajes de éxito --}}
  {{#if success_msg}}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      {{success_msg}}
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  {{/if}}

  {{!-- Mensajes de error global --}}
  {{#if error_msg}}
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      {{error_msg}}
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  {{/if}}

  {{!-- Errores de validación --}}
  {{#if errors}}
    <div class="alert alert-danger">
      <ul class="mb-0">
        {{#each errors}}
          <li>{{this.text}}</li>
        {{/each}}
      </ul>
    </div>
  {{/if}}

  <form action="/users/change-password" method="POST">
    <div class="form-group">
      <label for="current_password">Contraseña Actual</label>
      <input 
        type="password" 
        class="form-control" 
        id="current_password" 
        name="current_password" 
        required>
    </div>

    <div class="form-group">
      <label for="new_password">Nueva Contraseña</label>
      <input 
        type="password" 
        class="form-control" 
        id="new_password" 
        name="new_password" 
        required>
    </div>

    <div class="form-group">
      <label for="confirm_password">Confirmar Nueva Contraseña</label>
      <input 
        type="password" 
        class="form-control" 
        id="confirm_password" 
        name="confirm_password" 
        required>
    </div>

    <button type="submit" class="btn btn-primary btn-block">Actualizar Contraseña</button>
    <a href="/customers" class="btn btn-secondary btn-block">Cancelar</a>
  </form>
</div>
